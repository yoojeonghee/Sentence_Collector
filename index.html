<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>문장수집가</title>

<link rel="icon" href="data:image/svg+xml,
<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
<text y=%22.9em%22 font-size=%2290%22>✎</text>
</svg>">

<style>
:root{
  --bg:#f5f5f7;
  --card:#ffffff;
  --text:#1d1d1f;
  --sub:#86868b;
  --border:#e5e5e7;
  --accent:#0071e3;
  --ease:cubic-bezier(0.22,1,0.36,1);
}

body.dark{
  --bg:#000;
  --card:#1c1c1e;
  --text:#f5f5f7;
  --sub:#98989d;
  --border:#2c2c2e;
  --accent:#2997ff;
}

*{box-sizing:border-box;}

body{
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:background .5s var(--ease), color .5s var(--ease);
}

.container{
  max-width:860px;
  margin:0 auto;
  padding:0 20px 120px;
}

/* HERO (여백 축소) */
.hero{
  text-align:center;
  padding:50px 0 30px; /* 더 줄임 */
  transition:transform .4s var(--ease), opacity .4s var(--ease);
}

.hero h1{
  font-size:34px;
  margin:0 0 8px;
  letter-spacing:-0.5px;
}

.hero p{
  font-size:16px;
  color:var(--sub);
  margin:0;
}

/* 추천 */
.recommend{
  margin:30px 0 60px;
  padding:28px;
  border-radius:22px;
  background:var(--card);
  border:1px solid var(--border);
  text-align:center;
  cursor:pointer;
  transition:transform .4s var(--ease), box-shadow .4s var(--ease);
}

.recommend:hover{
  transform:translateY(-4px);
  box-shadow:0 20px 40px rgba(0,0,0,0.08);
}

.recommend p{
  font-size:17px;
  margin:10px 0 0;
}

/* FORM */
.form-section{
  margin-bottom:80px;
  padding:32px;
  border-radius:22px;
  background:var(--card);
  border:1px solid var(--border);
  transition:background .5s var(--ease), border-color .5s var(--ease);
}

.form-group{ margin-bottom:20px; }

label{
  font-size:14px;
  color:var(--sub);
  display:block;
  margin-bottom:8px;
}

input, textarea{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:14px;
  border:1px solid var(--border);
  background:transparent;
  transition:.25s var(--ease);
}

input:focus, textarea:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 4px rgba(0,113,227,0.15);
}

textarea{ min-height:130px; }

/* 버튼 우측 정렬 */
.button-wrap{
  display:flex;
  justify-content:flex-end;
}

button{
  padding:12px 20px;
  border-radius:14px;
  border:none;
  background:var(--accent);
  color:white;
  font-size:15px;
  cursor:pointer;
  transition:transform .25s var(--ease), box-shadow .25s var(--ease);
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 30px rgba(0,113,227,0.3);
}

button:active{
  transform:scale(.96);
}

/* CARDS */
.card-container{
  display:grid;
  gap:24px;
}

.card{
  padding:28px;
  border-radius:24px;
  background:var(--card);
  border:1px solid var(--border);
  cursor:pointer;
  opacity:0;
  transform:translateY(20px);
  animation:fadeUp .6s var(--ease) forwards;
  transition:box-shadow .4s var(--ease);
}

.card:hover{
  box-shadow:0 25px 60px rgba(0,0,0,0.08);
}

@keyframes fadeUp{
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.card strong{ font-size:19px; }
.card small{ display:block;margin-top:6px;color:var(--sub); }

.card p{
  margin-top:18px;
  font-size:16px;
  padding-left:24px;
  position:relative;
}

.card p::before{
  content:"“";
  position:absolute;
  left:0;
  top:-8px;
  font-size:42px;
  color:var(--border);
}

/* PAGINATION */
.pagination{
  margin-top:50px;
  display:flex;
  justify-content:center;
  gap:8px;
}

.pagination button{
  background:transparent;
  color:var(--text);
  border:1px solid var(--border);
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.4);
  backdrop-filter:blur(12px);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .4s var(--ease);
}

.modal.active{
  opacity:1;
  pointer-events:auto;
}

.modal-content{
  width:90%;
  max-width:600px;
  background:var(--card);
  padding:40px;
  border-radius:26px;
  transform:translateY(30px) scale(.95);
  transition:transform .4s var(--ease);
}

.modal.active .modal-content{
  transform:translateY(0) scale(1);
}

/* 모바일 */
@media(max-width:768px){
  .hero{ padding:40px 0 20px; }
  .hero h1{ font-size:26px; }
}
</style>
</head>

<body>

<div class="container">

  <div class="hero" id="hero">
    <h1>문장수집가</h1>
    <p>당신의 마음에 남은 문장을 기록하세요.</p>
  </div>

  <div class="recommend" onclick="randomQuote()">
    <strong>오늘의 문장</strong>
    <p id="randomText">아직 기록된 문장이 없습니다.</p>
  </div>

  <div class="form-section">
    <div class="form-group">
      <label>책 제목</label>
      <input id="title">
    </div>
    <div class="form-group">
      <label>저자</label>
      <input id="author">
    </div>
    <div class="form-group">
      <label>기억하고 싶은 문장</label>
      <textarea id="quote"></textarea>
    </div>

    <div class="button-wrap">
      <button onclick="saveRecord()">저장하기</button>
    </div>
  </div>

  <div class="card-container" id="cardContainer"></div>
  <div class="pagination" id="pagination"></div>

</div>

<div class="modal" id="modal" onclick="closeModal()">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
let records = JSON.parse(localStorage.getItem("records")) || [];
let currentPage = 1;
const perPage = 5;

function saveStorage(){
  localStorage.setItem("records",JSON.stringify(records));
}

function getDate(){
  return new Date().toLocaleDateString("ko-KR");
}

function saveRecord(){
  if(!title.value||!author.value||!quote.value) return alert("모두 입력하세요");

  records.unshift({
    title:title.value,
    author:author.value,
    quote:quote.value,
    date:getDate()
  });

  saveStorage();
  render();
  randomQuote();
  title.value=author.value=quote.value="";
}

function render(){
  const totalPages=Math.ceil(records.length/perPage);
  const start=(currentPage-1)*perPage;
  const pageItems=records.slice(start,start+perPage);

  cardContainer.innerHTML="";
  pageItems.forEach((r,index)=>{
    cardContainer.innerHTML+=`
      <div class="card" onclick="openModal(${index})">
        <strong>${r.title}</strong>
        <small>${r.author} · ${r.date}</small>
        <p>${r.quote}</p>
      </div>
    `;
  });

  setTimeout(()=>{
    document.querySelectorAll(".card").forEach((card,i)=>{
      card.style.animationDelay=`${i*80}ms`;
    });
  },10);

  pagination.innerHTML="";
  for(let i=1;i<=totalPages;i++){
    pagination.innerHTML+=`<button onclick="goPage(${i})">${i}</button>`;
  }
}

function goPage(p){ currentPage=p; render(); }

function openModal(index){
  const r = records[index];
  modalContent.innerHTML=`
    <strong style="font-size:22px">${r.title}</strong>
    <small style="display:block;margin:10px 0;color:gray">${r.author} · ${r.date}</small>
    <p style="font-size:18px;line-height:1.8;margin-top:20px">${r.quote}</p>
  `;
  modal.classList.add("active");
}

function closeModal(){
  modal.classList.remove("active");
}

function randomQuote(){
  if(records.length===0) return;
  const r = records[Math.floor(Math.random()*records.length)];
  randomText.innerText = `"${r.quote}" — ${r.author}`;
}

/* 부드러운 패럴럭스 */
window.addEventListener("scroll",()=>{
  const scroll = window.scrollY;
  hero.style.transform=`translateY(${scroll*0.12}px)`;
  hero.style.opacity=1-scroll/500;
});

render();
randomQuote();
</script>

</body>
</html>